社会的运行基于信用/契约的。信息时代，最好的方式是把信用/契约建立在公链上，这样就没人能消灭和伪造信用/契约。以太坊一种公链，在它上面，可以通过部署一个智能合约的方式，发布了一个信用/契约。

一个画师，画了几个头像，存成图像文件，想在以太坊上证明自己对这些头像享有产权，然后把头像公开发布到网上，如果有人买一个或几个头像，画师可以把产权转移给买家。具体咋个做呢？

首先，画师准备一个实现ERC721协议的智能合约，可以是标准化的源码，把这个智能合约部署到以太坊上。然后，画师把这几个头像文件存储到一些可以永久保存文件的地方，比如ipfs和opensea。注意哈，必须是永久保存文件，否则是不可靠的，这会让NFT没有意义。

存储完成后，每一个头像文件都对应一个永久URI。然后，根据智能合约的地址，调用智能合约的函数，把每个头像文件的URI信息跟头像序号关联起来。整个NFT的发布就完成了。

上述过程，简单地说，就是两个事情：1）把文件存储在一个永久保存的地方，这个文件可以是图像，可以是音频，可以是视频，可以文本，是任何东西；2）把永久保存的文件的地址信息放到以太坊智能合约上，以便做产权的证明和交易。

如何查询一个NFT的内容呢？

比如，一个NFT，它是以太坊ERC721智能合约0x29714cafe792ef8b8c649451d13c89e21a0d7f5b的第100号作品。0x29714cafe792ef8b8c649451d13c89e21a0d7f5b是智能合约的地址，在EtherScan查询这个智能合约的信息：https://etherscan.io/address/0x29714cafe792ef8b8c649451d13c89e21a0d7f5b，在页面的“Contract”--“Read Contract”--“tokenURI”，输入NFT的序号100，点击“Query”，可以看到信息这个NFT的存储信息 ipfs://QmWGAFtzyzB6A6gYMnb6838hysHuT2rcV8B98Gmj4T4pyY/100.json。

这个ipfs信息需要通过网关查看，也就是https://ipfs.io/ipfs/QmWGAFtzyzB6A6gYMnb6838hysHuT2rcV8B98Gmj4T4pyY/100.json，这是一个json格式，它的image属性值是 ipfs://QmZFnUm3bjSyEPrvxEa3fR9eUxnkfQeLmPTzDhAmCWtbMZ/100.png，再通过网关查看，https://ipfs.io/ipfs/QmZFnUm3bjSyEPrvxEa3fR9eUxnkfQeLmPTzDhAmCWtbMZ/100.png，可以看到图像了，是一个戴着帽子的猴子。

这说明，NFT的图像如果你想使用，其实是可以随便用的，公开的。但如果要卖，就不可能了，大家只承认链上的产权，没有链上的产权，你无法卖给别人。

那么，如何查询一个NFT的交易价格呢？

ERC721协议智能合约不记录NFT交易成交价。因为交易方式可能是复杂的，不确定，比如线下转移产权和赠送，记录复杂的成本太高，没有必要放到ERC721。如果在OpenSea交易NFT，交易完成后数据会上链：买家付出的钱、卖家收到的钱、OpenSea的手续费，都会写入以太坊，这个过程是基于Wyvern协议实现的。

仍以上面的NFT为例，查询它的交易价格，最简单的方式，去OpenSea：https://opensea.io/assets/0x29714cafe792ef8b8c649451d13c89e21a0d7f5b/100
，其中0x29714cafe792ef8b8c649451d13c89e21a0d7f5b是智能合约地址，100是NFT在这个智能合约的序号，可以看到“Item Activity”最上面一行的“Date”，对应连接https://etherscan.io/tx/0x92d7ca50ae053835df353fe16fd330f14cf077a6addc51db86ec00f6795f48b2，这是一个Transaction，记录了这个NFT的交易详细信息，从哪里卖到哪里，交易价格是参数Value，数值是0.15，表示以0.15以太坊的价格卖出。

有没有更简单的方式？暂时还没找到。

有没有更复杂的方式？有。遍历NFT的智能合约0x29714cafe792ef8b8c649451d13c89e21a0d7f5b的所有Transaction，检查第100号NFT的第一次交易记录，然后从这里开始，遍历历次交易的所有买家的信息，由此得到所有交易价格，时间复杂度比较高，不适合在链上用Solidity做这种查询，成本太高。而OpenSea应该是按照这个方式，预先计算了NFT的历次交易价格，然后在官网展示出来。

鉴于OpenSea是最大的平台，这种查询方式适应于大多数的NFT。

有了交易价格，一些事情就可以做了。

